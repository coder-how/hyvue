<script src="./vue3.js"></script>
<!-- <script src="vuetest.js"></script> -->
<!-- <script src="../../test2.js"></script> -->
<div id="app">
  <div>
    <msg :c-msg="fMsg"></msg>
    <button @click="changeMsg">change msg</button>
  </div>
</div>
<script>
  const { ref, createApp, h, computed, watch } = Vue

  let app = createApp({
    name: 'app',
    components: {
      msg: {
        name: 'app',
        template: `<div class="msg">{{msg}}</div>`,
        props: ['cMsg'],
        setup(props, { emit }) {
          console.log('------------------> props', props)
          let msg = ref(props.cMsg)
          watch(
            () => props.cMsg,
            () => {
              msg.value = props.cMsg
            }
          )
          return {
            msg,
          }
        },
      },
    },

    setup() {
      let fMsg = ref('echo')
      function changeMsg() {
        fMsg.value += 's'
        console.log('-------------> fMsg.value', fMsg.value)
      }
      return {
        fMsg,
        changeMsg,
      }
    },
  })

  app.mount('#app')
</script>

<style>
  .test {
    background-color: pink;
  }
</style>
